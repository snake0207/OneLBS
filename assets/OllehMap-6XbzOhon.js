import{v as L,w,r as m,x as I,b as v,f as b,_ as k,j as a,y as S,z as C,B as H,S as M,T as j}from"./index-CMVj578i.js";import{o as d}from"./olleh_map-cJNfxRyM.js";function B(e){return L("MuiImageList",e)}w("MuiImageList",["root","masonry","quilted","standard","woven"]);const U=m.createContext({}),O=["children","className","cols","component","rowHeight","gap","style","variant"],R=e=>{const{classes:i,variant:r}=e;return C({root:["root",r]},B,i)},F=I("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:r}=e;return[i.root,i[r.variant]]}})(({ownerState:e})=>v({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},e.variant==="masonry"&&{display:"block"})),z=m.forwardRef(function(i,r){const n=b({props:i,name:"MuiImageList"}),{children:u,className:o,cols:x=2,component:h="ul",rowHeight:l="auto",gap:t=4,style:f,variant:c="standard"}=n,s=k(n,O),p=m.useMemo(()=>({rowHeight:l,gap:t,variant:c}),[l,t,c]);m.useEffect(()=>{},[]);const y=c==="masonry"?v({columnCount:x,columnGap:t},f):v({gridTemplateColumns:`repeat(${x}, 1fr)`,gap:t},f),A=v({},n,{component:h,gap:t,rowHeight:l,variant:c}),g=R(A);return a.jsx(F,v({as:h,className:S(g.root,g[c],o),ref:r,style:y,ownerState:A},s,{children:a.jsx(U.Provider,{value:p,children:u})}))}),Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH1UExURQAAAP////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Pz8/X19f////////////T09PX19f////////////j4+Pj4+Pj4+Pj4+P////////j4+Pj4+Pn5+f////////j4+Pr6+vr6+vPz8/X19fr6+vr6+vb29vb29vv7+/j4+Pv7+/n5+f39/fb29vf39/r6+vb29vv7+/r6+vz8/Pv7++Tk5N7e3sDAwMPDw8bGxsnJyZSUlM7Ozt/f35ycnKSkpOLi4v39/bCwsLa2tre3t7q6utfX19nZ2d3d3fz8/Ly8vL29vcDAwMHBwcPDw8bGxuHh4eLi4u7u7vPz8/X19ff39/7+/srKyvn5+f7+/vr6+v39/f7+/vz8/P7+/gAAAAICAgMDAwcHBxISEhcXFxgYGB4eHiIiIi0tLTIyMjU1NUREREVFRUdHR0tLS0xMTE1NTVBQUFRUVFZWVlpaWltbW2FhYWZmZm1tbXBwcHFxcX9/f4CAgIGBgZCQkJOTk5WVlZeXl5iYmJmZmZubm6CgoK2tra+vr7KysrOzs7a2tr6+vv////3WlMYAAAB5dFJOUwACCQ4SFxoiJigsMDc6PD9BQkxQUlVZW11gZ2t5e3x9gY6PkpaYmZqcoKClpqiqq62ur7O0tbe5vr+/wsPGycrMzdHU19ra3N/i5u7v8fLz9fb39/f4+Pj5+fn5+vr6+vr6+vr7+/v7+/v7+/v7+/v7/Pz8/f39/v7TgsSdAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACH0lEQVRIS+3Vx18UQRAF4GFJklniyoKiIkbMmDArJjBijoiiKEkBlSYKSxIkLkHEHOrvdLr6uT8O2zPtjQPfaV7Vq9NssJYtTamrNx7cV7gqFdFMbindrP76pfoSleZi5C75ROP1PsH6PjaeTMbYhZ8e9KgjqecX+bFwlEEzuIAZysDKwYqXt1AP+fwmBku9PRUoL1KzC0stLw2p6vSzhoY/0+p5iLxY6+y9wsXOh7QpJ6eQfndyfLIba50LU9y7fT5JpqRz3zhOXeSlVgIFZG2Y0lVOp2GZA5SgsoavSbbE7Flk6/QsD5p8yOFlt3Dr53Zka+t9HrRkI4eX9Zpb88eQrSPzPHibhRxeGnXL1sRjvOCYuxMyd1OayhqRNCprbY+KVN55uU3mUYpUWefoJ1kTg7R/pcfyldAgxx/HsdbJq+/gYqCGbBX8OkRHfR7WOlHNQW7a35gP79/hMdgchbXWuip0F6laj6VeHI2hHDJGcVg6KLqGdsjzHVg5SaF+1KGfUrByVPIdfbh3GAtnmdSLA9ZLmVi4OLWAC7ZwBmM3furCia3L7PfOFlE2hxvbXHkExq7y69pxJNrr8jF0F9367xMmgq3RGBpYW4srUVuAkYlYmlRXkxSLkZENleqscjMGZuJpXF6NUzwGhrbckGevtiGaSqQRIUYoEdFY8VUhnhYjmPPSwIDrH00YB17cOYTH/+FZU+DB47IlxrL+AiZTEc0PdckTAAAAAElFTkSuQmCC",Z="/OneLBS/assets/hex50-Bn5YHypZ.png",E="/OneLBS/assets/hex60-DHopzLe1.png",V="/OneLBS/assets/hex70-Dc15DWeP.png",G="/OneLBS/assets/hex80-C7-2l3cR.png",D="/OneLBS/assets/hex90-B99l_MVk.png",T="/OneLBS/assets/hex100-C95NsxDY.png",q=[{img:Z,title:"rssi > -50"},{img:E,title:"rssi -60 ~ -50"},{img:V,title:"rssi -70 ~ -60"},{img:G,title:"rssi -80 ~ -70"},{img:D,title:"rssi -90 ~ -80"},{img:T,title:"rssi < -90"}],N=({locations:e,onMapClick:i,gridX:r=null,gridY:n=null,rssi:u})=>{const[o,x]=m.useState(null),h=13,l={longitude:e[0].longitude,latitude:e[0].latitude,title:e[0].title};let t;const f=(s,p,y)=>{t&&(t.detach(),t.setMap(null));let{y:A,x:g}=d.getLatLng(p);A=A.toFixed(6),g=g.toFixed(6);const P={latitude:A,longitude:g,title:`${A},${g}`};t=d.drawMarker(s,P,!1),t.setIcon(Y),y(P)},c=()=>{t&&(t.detach(),t.setMap(null))};return m.useEffect(()=>{if(!o){const s=d.initMap(document.getElementById("map_div"),d.initCenter(l.latitude,l.longitude),h);s.onEvent("click",p=>{f(s,p.getCoord(),i)}),x(s)}return()=>{o&&(console.log("mapInstance unmount..."),x(null))}},[]),m.useEffect(()=>(o&&(t==null&&(t=d.drawMarker(o,l,!1)),Array.isArray(r)&&r.length>0&&Array.isArray(n)&&n.length>0&&Array.isArray(u)&&u.length>0&&d.drawHexGrid(o,r,n,u)),()=>{c()}),[e,o]),a.jsx(a.Fragment,{children:a.jsx("div",{id:"map_div",style:{height:"100%",width:"100%",zIndex:1},children:Array.isArray(r)&&r.length>0&&Array.isArray(n)&&Array.isArray(u)&&a.jsx(H,{sx:{zIndex:999,bottom:0,position:"absolute",height:"100px",width:"30%",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:a.jsx(z,{sx:{ml:2},children:q.map(s=>a.jsxs(M,{direction:"row",sx:{"& .MuiImageListItem-img":{width:20}},children:[a.jsx("img",{src:s.img,width:"20",height:"20",alt:s.title,loading:"lazy"}),a.jsx(j,{sx:{ml:1,fontSize:"12px",color:"white"},children:s.title})]},s.img))})})})})};export{N as default};
