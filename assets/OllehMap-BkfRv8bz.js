import{v as e,w as t,r,x as s,b as i,f as a,_ as n,j as l,y as o,z as A,B as g,S as d,T as c}from"./index-CtGT7pB0.js";import{o as m}from"./olleh_map-cbgdSS3j.js";function u(t){return e("MuiImageList",t)}t("MuiImageList",["root","masonry","quilted","standard","woven"]);const v=r.createContext({}),h=["children","className","cols","component","rowHeight","gap","style","variant"],p=s("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant]]}})((({ownerState:e})=>i({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===e.variant&&{display:"block"}))),x=r.forwardRef((function(e,t){const s=a({props:e,name:"MuiImageList"}),{children:g,className:d,cols:c=2,component:m="ul",rowHeight:x="auto",gap:f=4,style:y,variant:w="standard"}=s,P=n(s,h),b=r.useMemo((()=>({rowHeight:x,gap:f,variant:w})),[x,f,w]);r.useEffect((()=>{}),[]);const L=i("masonry"===w?{columnCount:c,columnGap:f}:{gridTemplateColumns:`repeat(${c}, 1fr)`,gap:f},y),S=i({},s,{component:m,gap:f,rowHeight:x,variant:w}),j=(e=>{const{classes:t,variant:r}=e;return A({root:["root",r]},u,t)})(S);return l.jsx(p,i({as:m,className:o(j.root,j[w],d),ref:t,style:L,ownerState:S},P,{children:l.jsx(v.Provider,{value:b,children:g})}))})),f=[{img:"/OneLBS/assets/hex50-Bn5YHypZ.png",title:"rssi > -50"},{img:"/OneLBS/assets/hex60-DHopzLe1.png",title:"rssi -60 ~ -50"},{img:"/OneLBS/assets/hex70-Dc15DWeP.png",title:"rssi -70 ~ -60"},{img:"/OneLBS/assets/hex80-C7-2l3cR.png",title:"rssi -80 ~ -70"},{img:"/OneLBS/assets/hex90-B99l_MVk.png",title:"rssi -90 ~ -80"},{img:"/OneLBS/assets/hex100-C95NsxDY.png",title:"rssi < -90"}],y=({locations:e,onMapClick:t,gridX:s=null,gridY:i=null,rssi:a})=>{const[n,o]=r.useState(null),A={longitude:e[0].longitude,latitude:e[0].latitude,title:e[0].title};let u;return r.useEffect((()=>{if(!n){const e=m.initMap(document.getElementById("map_div"),m.initCenter(A.latitude,A.longitude),13);e.onEvent("click",(r=>{((e,t,r)=>{u&&(u.detach(),u.setMap(null));let{y:s,x:i}=m.getLatLng(t);s=s.toFixed(6),i=i.toFixed(6);const a={latitude:s,longitude:i,title:`${s},${i}`};u=m.drawMarker(e,a,!1),u.setIcon("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAMAAAC7m5rvAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH1UExURQAAAP////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////Pz8/X19f////////////T09PX19f////////////j4+Pj4+Pj4+Pj4+P////////j4+Pj4+Pn5+f////////j4+Pr6+vr6+vPz8/X19fr6+vr6+vb29vb29vv7+/j4+Pv7+/n5+f39/fb29vf39/r6+vb29vv7+/r6+vz8/Pv7++Tk5N7e3sDAwMPDw8bGxsnJyZSUlM7Ozt/f35ycnKSkpOLi4v39/bCwsLa2tre3t7q6utfX19nZ2d3d3fz8/Ly8vL29vcDAwMHBwcPDw8bGxuHh4eLi4u7u7vPz8/X19ff39/7+/srKyvn5+f7+/vr6+v39/f7+/vz8/P7+/gAAAAICAgMDAwcHBxISEhcXFxgYGB4eHiIiIi0tLTIyMjU1NUREREVFRUdHR0tLS0xMTE1NTVBQUFRUVFZWVlpaWltbW2FhYWZmZm1tbXBwcHFxcX9/f4CAgIGBgZCQkJOTk5WVlZeXl5iYmJmZmZubm6CgoK2tra+vr7KysrOzs7a2tr6+vv////3WlMYAAAB5dFJOUwACCQ4SFxoiJigsMDc6PD9BQkxQUlVZW11gZ2t5e3x9gY6PkpaYmZqcoKClpqiqq62ur7O0tbe5vr+/wsPGycrMzdHU19ra3N/i5u7v8fLz9fb39/f4+Pj5+fn5+vr6+vr6+vr7+/v7+/v7+/v7+/v7/Pz8/f39/v7TgsSdAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACH0lEQVRIS+3Vx18UQRAF4GFJklniyoKiIkbMmDArJjBijoiiKEkBlSYKSxIkLkHEHOrvdLr6uT8O2zPtjQPfaV7Vq9NssJYtTamrNx7cV7gqFdFMbindrP76pfoSleZi5C75ROP1PsH6PjaeTMbYhZ8e9KgjqecX+bFwlEEzuIAZysDKwYqXt1AP+fwmBku9PRUoL1KzC0stLw2p6vSzhoY/0+p5iLxY6+y9wsXOh7QpJ6eQfndyfLIba50LU9y7fT5JpqRz3zhOXeSlVgIFZG2Y0lVOp2GZA5SgsoavSbbE7Flk6/QsD5p8yOFlt3Dr53Zka+t9HrRkI4eX9Zpb88eQrSPzPHibhRxeGnXL1sRjvOCYuxMyd1OayhqRNCprbY+KVN55uU3mUYpUWefoJ1kTg7R/pcfyldAgxx/HsdbJq+/gYqCGbBX8OkRHfR7WOlHNQW7a35gP79/hMdgchbXWuip0F6laj6VeHI2hHDJGcVg6KLqGdsjzHVg5SaF+1KGfUrByVPIdfbh3GAtnmdSLA9ZLmVi4OLWAC7ZwBmM3furCia3L7PfOFlE2hxvbXHkExq7y69pxJNrr8jF0F9367xMmgq3RGBpYW4srUVuAkYlYmlRXkxSLkZENleqscjMGZuJpXF6NUzwGhrbckGevtiGaSqQRIUYoEdFY8VUhnhYjmPPSwIDrH00YB17cOYTH/+FZU+DB47IlxrL+AiZTEc0PdckTAAAAAElFTkSuQmCC"),r(a)})(e,r.getCoord(),t)})),o(e)}return()=>{n&&o(null)}}),[]),r.useEffect((()=>(n&&(null==u&&(u=m.drawMarker(n,A,!1)),Array.isArray(s)&&s.length>0&&Array.isArray(i)&&i.length>0&&Array.isArray(a)&&a.length>0&&m.drawHexGrid(n,s,i,a)),()=>{u&&(u.detach(),u.setMap(null))})),[e,n]),l.jsx(l.Fragment,{children:l.jsx("div",{id:"map_div",style:{height:"100%",width:"100%",zIndex:1},children:Array.isArray(s)&&s.length>0&&Array.isArray(i)&&Array.isArray(a)&&l.jsx(g,{sx:{zIndex:999,bottom:0,position:"absolute",height:"100px",width:"30%",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:l.jsx(x,{sx:{ml:2},children:f.map((e=>l.jsxs(d,{direction:"row",sx:{"& .MuiImageListItem-img":{width:20}},children:[l.jsx("img",{src:e.img,width:"20",height:"20",alt:e.title,loading:"lazy"}),l.jsx(c,{sx:{ml:1,fontSize:"12px",color:"white"},children:e.title})]},e.img)))})})})})};export{y as default};
