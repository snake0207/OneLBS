import{r as t,j as e,D as S,T as u,g as k,S as y,i as D,k as p,P}from"./index-Zwjsjf_e.js";import{M as F}from"./index-CIhg3QXE.js";import{T}from"./index-D9xLZxGV.js";import{a as E}from"./system-CTpelrAU.js";import{u as M}from"./formik.esm-DxgWIguA.js";import{D as v,a as z}from"./cjs-D8lu4uGd.js";import"./TextField-C_ArUhJ2.js";import"./InputAdornment-BudvL8JH.js";import"./index-DxA-rrMr.js";const B=r=>{const s=t.useRef(null);return e.jsx(z,{nodeRef:s,handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:e.jsx(P,{ref:s,...r,sx:{minWidth:"40%"}})})},Q=({isOpen:r,draggable:s=!0,title:g,onCancel:f,onConfirm:x})=>{const[h,l]=t.useState(r),[C,j]=t.useState(""),[n,c]=t.useState(!1),[a,b]=t.useState({serviceCode:""}),{data:o}=E(a,{enabled:n}),d=()=>{l(!1),f()},m=M({initialValues:{modelCode:""},onSubmit:i=>{c(!0),b({...a,...i})}});return t.useEffect(()=>{if(o){const i=`* 조회하신 ${a.modelCode} 는 ${o.code==="0000"?"사용가능 합니다.":"이미 사용중 입니다."}`;j(i),c(!1)}},[o,n]),e.jsxs(S,{open:h,onClose:d,PaperComponent:s&&B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(v,{id:"draggable-dialog-title",children:e.jsx(u,{sx:{fontWeight:"500"},children:g}),style:{cursor:s&&"move",backgroundColor:"black",color:"white",marginBottom:"1rem"}}),e.jsxs(k,{dividers:!1,children:[e.jsxs(y,{direction:"row",mb:2,mt:1,children:[e.jsx(T,{name:"modelCode",formik:m}),e.jsx(F,{name:"search",title:"검색",onClick:m.handleSubmit})]}),o&&e.jsx(u,{sx:{fontSize:"13px",fontFamily:"italic",backgroundColor:"#ccc"},children:C})]}),e.jsxs(D,{children:[e.jsx(p,{size:"large",color:"error",onClick:d,children:"취소"}),(o==null?void 0:o.code)==="0000"&&e.jsx(p,{size:"large",color:"primary",onClick:()=>{l(!1),x(a.modelCode)},autoFocus:!0,children:"사용"})]})]})};export{Q as default};
