import{r as s,j as e,D as S,T as u,g as k,S as y,i as D,k as p,P as v}from"./index-Zwjsjf_e.js";import{M as P}from"./index-CIhg3QXE.js";import{T as F}from"./index-D9xLZxGV.js";import{u as T}from"./system-CTpelrAU.js";import{u as M}from"./formik.esm-DxgWIguA.js";import{D as z,a as B}from"./cjs-D8lu4uGd.js";import"./TextField-C_ArUhJ2.js";import"./InputAdornment-BudvL8JH.js";import"./index-DxA-rrMr.js";const E=a=>{const t=s.useRef(null);return e.jsx(B,{nodeRef:t,handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:e.jsx(v,{ref:t,...a,sx:{minWidth:"40%"}})})},Q=({isOpen:a,draggable:t=!0,title:g,onCancel:f,onConfirm:x})=>{const[h,n]=s.useState(a),[C,j]=s.useState(""),[l,c]=s.useState(!1),[r,b]=s.useState({serviceCode:""}),{data:o}=T(r,{enabled:l}),d=()=>{n(!1),f()},m=M({initialValues:{serviceCode:""},onSubmit:i=>{c(!0),b({...r,...i})}});return s.useEffect(()=>{if(o){const i=`* 조회하신 [${r.serviceCode}]는 ${o.code==="0000"?"사용가능 합니다.":"이미 사용중 입니다."}`;j(i),c(!1)}},[o,l]),e.jsxs(S,{open:h,onClose:d,PaperComponent:t&&E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsx(z,{id:"draggable-dialog-title",children:e.jsx(u,{sx:{fontWeight:"500"},children:g}),style:{cursor:t&&"move",backgroundColor:"black",color:"white",marginBottom:"1rem"}}),e.jsxs(k,{dividers:!1,children:[e.jsxs(y,{direction:"row",mb:2,mt:1,children:[e.jsx(F,{name:"serviceCode",formik:m}),e.jsx(P,{name:"search",title:"검색",onClick:m.handleSubmit})]}),o&&e.jsx(u,{sx:{fontSize:"13px",fontFamily:"italic",backgroundColor:"#ccc"},children:C})]}),e.jsxs(D,{children:[e.jsx(p,{size:"large",color:"error",onClick:d,children:"취소"}),(o==null?void 0:o.code)==="0000"&&e.jsx(p,{size:"large",color:"primary",onClick:()=>{n(!1),x(r.serviceCode)},autoFocus:!0,children:"사용"})]})]})};export{Q as default};
