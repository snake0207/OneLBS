function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SearchPopup-xIqlt3fe.js","assets/index-CtGT7pB0.js","assets/index-CkwR4aEQ.js","assets/index-Ddq0Ofe6.js","assets/TextField-D-bOuL6E.js","assets/formik.esm-DAidWDL1.js","assets/InputAdornment-CN7O440v.js","assets/user-C1TJJWGr.js","assets/cjs-CzLYHR4S.js","assets/index-C6TEBvmk.js","assets/index-DanmpxUh.js","assets/index-mlOjgIiv.js","assets/index-DE0F4aPm.js","assets/useSlot-BcLOKpuP.js","assets/Close-CTx8nZBT.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,B as s,T as i,O as n,r as d,N as r,Y as l,S as o}from"./index-CtGT7pB0.js";import{b as t,c as a,d as c,e as x,M as p,a as h,f as m}from"./index-CkwR4aEQ.js";import{C as j}from"./index-VIunMvyj.js";import{d as u,e as f,f as g,g as b}from"./user-C1TJJWGr.js";import{u as S}from"./formik.esm-DAidWDL1.js";import{T as y}from"./index-Ddq0Ofe6.js";import{S as _}from"./index-BN4gr2T-.js";import{d as k}from"./Create-xzaHxzoW.js";import{r as v}from"./validationSchema-C6JJl3PS.js";import"./index-C6TEBvmk.js";import"./index-DE0F4aPm.js";import"./TextField-D-bOuL6E.js";import"./MenuItem-BYlXn1lz.js";import"./Close-CTx8nZBT.js";import"./FormControlLabel-CIx-0vjk.js";import"./InputAdornment-CN7O440v.js";import"./index.esm-CfFDv5dH.js";const A={searchBox:{display:"flex",justifyContent:"space-between",width:"100%",borderRadius:"8px",mb:"10px",p:"16px 20px",backgroundColor:"grey.search",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},tableBox:{width:"100%",th:{border:0,color:"text.darkgray",p:"3px 10px 3px 0","&:nth-of-type(even)":{pr:"40px"}},input:{height:"40px",pt:0,pb:0}},searchButton:{fontSize:15,fontWeight:400,width:"69px",height:"40px",minWidth:"auto",backgroundColor:"button.main",padding:"6px"},inputDash:{fontSize:15,display:"flex",alignItems:"center"},cellTitle:{width:"10%"},cellInput:{width:"25%"}};function w({onSearch:i}){const n=S({initialValues:{userId:"",authType:"T"},onSubmit:e=>{i&&i(e)}});return e.jsx(s,{sx:A.searchBox,children:e.jsx(t,{sx:A.tableBox,children:e.jsx(a,{children:e.jsxs(c,{children:[e.jsx(x,{sx:A.cellTitle,children:"권한"}),e.jsx(x,{sx:A.cellInput,children:e.jsx(_,{name:"authType",formik:n,items:[{key:"T",value:"T",label:"전체"},{key:"A",value:"A",label:"관리자"},{key:"O",value:"O",label:"운영자"}],sx:{width:"100%",height:40,backgroundColor:"form.main",borderRadius:"4px"}})}),e.jsx(x,{sx:A.cellTitle,children:"아이디"}),e.jsx(x,{sx:A.cellInput,children:e.jsx(y,{name:"userId",formik:n,sx:{width:"100%"}})}),e.jsx(x,{align:"right",children:e.jsx(p,{name:"search",title:"검색",onClick:n.handleSubmit})})]})})})})}const C={A:{label:"관리자"},O:{label:"운영자"},"00001":{label:"슈퍼관리자"}},T=[{field:"id",headerName:"ID",flex:.8,renderCell:s=>e.jsx(i,{children:s.row.id})},{field:"userId",headerName:"아이디",flex:1,renderCell:s=>e.jsx(i,{color:"primary",children:s.row.userId})},{field:"authType",headerName:"권한",flex:.8,renderCell:s=>e.jsx(i,{children:C[s.row.authType].label})},{field:"cropName",headerName:"소속",flex:1,renderCell:s=>e.jsx(i,{children:s.row.cropName})},{field:"loginFailCount",headerName:"로그인 실패",flex:1,align:"center",renderCell:s=>e.jsx(i,{children:s.row.loginFailCount})},{field:"lastLoginTime",headerName:"마지막 로그인",flex:1.5,renderCell:s=>e.jsx(i,{children:s.row.lastLoginTime})},{field:"regDate",headerName:"등록일시",flex:1.5,renderCell:s=>e.jsx(i,{children:s.row.regDate})},{field:"updDate",headerName:"변경일시",flex:1.5,renderCell:s=>e.jsx(i,{children:s.row.updDate})}],I=()=>{const r=n(),[l,o]=d.useState({count:0,lists:[]}),[t,a]=d.useState(!0),[c,x]=d.useState({authType:"T",page:1,limit:parseInt("50")}),{mutate:m,isPending:f}=u();return d.useEffect((()=>{t&&m({...c},{onSuccess:({data:e})=>{if("0000"===(null==e?void 0:e.code)){const{totalCount:s,lists:i}=null==e?void 0:e.data;a(!1),o({count:s,lists:[...l.lists,...i]})}}})}),[c]),e.jsxs(s,{children:[e.jsx(h,{title:"사용자 정보관리"}),e.jsx(w,{onSearch:e=>{o({count:0,lists:[]}),x({...c,...e,page:1}),a(!0)}}),l&&e.jsxs(s,{sx:{width:"100%",borderRadius:"8px",p:"18px 20px",backgroundColor:"background.contents",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},children:[e.jsxs(s,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(i,{sx:{fontSize:"14px"},children:`Total Count: ${null==l?void 0:l.count}`}),e.jsx(s,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:e.jsx(p,{disabled:f,name:"create",title:"사용자 등록",onClick:()=>r("/user/user-regist",{state:{row:"acro0720"}})})})]}),e.jsx(j,{rows:null==l?void 0:l.lists,rowCount:null==l?void 0:l.count,columns:T,sort:{field:"id",orderby:"desc"},onPageChange:e=>{const s=parseInt("10");e>0&&(e+1)*s>=l.lists.length&&(x({...c,page:c.page+1}),a(!0))},onRowClick:({row:e})=>{r("/user/user-edit",{state:{row:e}})},pageInit:1===c.page})]})]})},N={contentBox:{width:"100%",borderRadius:"8px",p:"18px 20px",backgroundColor:"background.contents",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},table_info:{width:"90%",mb:3,th:{width:"20%",border:"1px solid",borderColor:"table.viewTopBorder"},td:{pt:1,pb:1,width:"25%",border:"1px solid",borderColor:"table.viewTopBorder"},tr:{"& th:first-of-type":{borderLeft:"none"},"& th:last-child":{borderRight:"none"},"& td:last-child":{borderRight:"none"}}},table_set_option:{mb:3,th:{pt:1,pb:1,width:"20%",border:"1px solid",borderColor:"table.viewTopBorder"},td:{pt:1,pb:1,width:"20%",border:"1px solid",borderColor:"table.viewTopBorder"},tr:{"& th:first-of-type":{borderLeft:"none"},"& th:last-child":{borderRight:"none"},"& td:last-child":{borderRight:"none"}}}},D=d.lazy((()=>r((()=>import("./SearchPopup-xIqlt3fe.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))),z=d.lazy((()=>r((()=>import("./index-DanmpxUh.js")),__vite__mapDeps([10,1,8,9])))),L=d.lazy((()=>r((()=>import("./index-mlOjgIiv.js")),__vite__mapDeps([11,1,12,13,14])))),R=()=>{l();const r=n(),[p,j]=d.useState(!1),{mutate:u,isPending:g}=f(),[b,A]=d.useState(""),[w,C]=d.useState({msg:"입력한 정보로 저장 하시겠습니까?",openDialog:!1}),T=S({initialValues:{userId:"",cropName:"",phoneNum:"",authType:"O",ipAddr_1:"",ipAddr_2:"",ipAddr_3:"",ipAddr_4:"",ipAddr_5:""},validationSchema:v,onSubmit:e=>{const s=[...new Set([T.values.ipAddr_1,T.values.ipAddr_2,T.values.ipAddr_3,T.values.ipAddr_4,T.values.ipAddr_5])].filter((e=>e.length>0)),i={userId:T.values.userId,cropName:T.values.cropName,phoneNum:T.values.phoneNum,authType:T.values.authType,ipAddr:[...s]};u({...i},{onSuccess:({data:e})=>{A(`API RESULT : ${null==e?void 0:e.data}(${null==e?void 0:e.code})`)}})}}),I=()=>{C((e=>({...e,openDialog:!1})))};return e.jsxs(s,{children:[e.jsx(h,{title:"사용자 등록"}),e.jsx("form",{style:{width:"100%"},children:e.jsxs(s,{sx:N.contentBox,children:[e.jsxs(s,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(k,{}),e.jsx(i,{sx:{ml:1,fontSize:"16px",fontWeight:500,color:"text.darkgray"},children:"기본 정보"})]}),e.jsxs(i,{fontSize:"small",sx:{color:"text.darkgray"},children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"필수 입력입니다."]}),e.jsx(t,{sx:N.table_info,children:e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"아이디"]}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"userId",formik:T,editClick:()=>{j(!0)}})}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"소속"]}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"cropName",formik:T})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"전화번호"}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"phoneNum",formik:T})}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"권한"]}),e.jsx(x,{component:"td",children:e.jsx(_,{name:"authType",formik:T,items:[{key:"A",value:"A",label:"관리자"},{key:"O",value:"O",label:"운영자"}],sx:{width:"100%",height:40,backgroundColor:"form.main",borderRadius:"4px"}})})]}),e.jsxs(c,{children:[e.jsx(x,{rowSpan:5,children:"접속 허용 IP 목록"}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"ip-address-1"]}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_1",formik:T})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-2"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_2",formik:T})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-3"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_3",formik:T})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-4"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_4",formik:T})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-5"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_5",formik:T})})]})]})}),e.jsx(s,{sx:{width:"90%",justifyContent:"flex-end"},children:e.jsxs(o,{spacing:2,direction:"row",sx:{justifyContent:"flex-end"},children:[e.jsx(m,{disabled:g,name:"list",title:"취소",onClick:()=>r("/user/user-list")}),e.jsx(m,{disabled:g,name:"create",title:"저장",onClick:()=>{C((e=>({...e,openDialog:!0})))}})]})})]})}),w.openDialog&&e.jsx(Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(z,{isOpen:w.openDialog,content:w.msg,onCancel:I,onConfirm:()=>{T.handleSubmit(),I()}})}),b&&e.jsx(Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(L,{msg:b,autoHideDuration:5e3,callback:()=>{A(!1),r("/user/user-list")}})}),p&&e.jsx(Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(D,{isOpen:p,title:"사용자 아이디 중복 체크",onCancel:()=>j(!1),onConfirm:e=>{j(!1),T.setFieldValue("userId",e)}})})]})},E=()=>e.jsx(e.Fragment,{children:e.jsx(R,{})}),P=d.lazy((()=>r((()=>import("./index-DanmpxUh.js")),__vite__mapDeps([10,1,8,9])))),O=d.lazy((()=>r((()=>import("./index-mlOjgIiv.js")),__vite__mapDeps([11,1,12,13,14])))),B=()=>{const{state:{row:r}}=l(),p=n();d.useState(!0);const{mutate:j,isPending:u}=g(),{mutate:f,isPending:A}=b(),[w,C]=d.useState(""),[T,I]=d.useState({edit:!1,delete:!1,msg:"",openDialog:!1}),D=S({initialValues:{userId:null==r?void 0:r.userId,cropName:null==r?void 0:r.cropName,authType:null==r?void 0:r.authType,phoneNum:(null==r?void 0:r.phoneNum)||"",ipAddr_1:(null==r?void 0:r.ipAddr[0])||"",ipAddr_2:(null==r?void 0:r.ipAddr[1])||"",ipAddr_3:(null==r?void 0:r.ipAddr[2])||"",ipAddr_4:(null==r?void 0:r.ipAddr[3])||"",ipAddr_5:(null==r?void 0:r.ipAddr[4])||""},validationSchema:v,onSubmit:e=>{const s=[...new Set([D.values.ipAddr_1,D.values.ipAddr_2,D.values.ipAddr_3,D.values.ipAddr_4,D.values.ipAddr_5])].filter((e=>e.length>0)),i={userId:null==r?void 0:r.userId,cropName:D.values.cropName,phoneNum:D.values.phoneNum,authType:D.values.authType,ipAddr:[...s]};f({...i},{onSuccess:({data:e})=>{C(`UPDATE RESULT : ${null==e?void 0:e.data}`)}})}}),z=()=>{I({edit:!1,delete:!1,msg:"",openDialog:!1})};return e.jsxs(s,{children:[e.jsx(h,{title:"사용자 정보 수정"}),e.jsx("form",{style:{width:"100%"},children:e.jsxs(s,{sx:N.contentBox,children:[e.jsxs(s,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(k,{}),e.jsx(i,{sx:{ml:1,fontSize:"16px",fontWeight:500,color:"text.darkgray"},children:"기본 정보"})]}),e.jsxs(i,{fontSize:"small",sx:{color:"text.darkgray"},children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"필수 입력입니다."]}),e.jsx(t,{sx:N.table_info,children:e.jsxs(a,{children:[e.jsxs(c,{children:[e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"아이디"]}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"userId",formik:D,IsDisabled:!0})}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"소속"]}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"cropName",formik:D})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"전화번호"}),e.jsx(x,{component:"td",children:e.jsx(y,{name:"phoneNum",formik:D})}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"권한"]}),e.jsx(x,{component:"td",children:e.jsx(_,{name:"authType",formik:D,items:[{key:"A",value:"A",label:"관리자"},{key:"O",value:"O",label:"운영자"}],sx:{width:"100%",height:40,backgroundColor:"form.main",borderRadius:"4px"}})})]}),e.jsxs(c,{children:[e.jsx(x,{rowSpan:5,children:"접속 허용 IP 목록"}),e.jsxs(x,{children:[e.jsx("span",{style:{color:"red",fontSize:"13px"},children:"*"}),"ip-address-1"]}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_1",formik:D})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-2"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_2",formik:D})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-3"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_3",formik:D})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-4"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_4",formik:D})})]}),e.jsxs(c,{children:[e.jsx(x,{children:"ip-address-5"}),e.jsx(x,{component:"td",colSpan:2,children:e.jsx(y,{name:"ipAddr_5",formik:D})})]})]})}),e.jsx(s,{sx:{width:"90%",align:"right"},children:e.jsxs(o,{spacing:2,direction:"row",sx:{justifyContent:"flex-end",mr:2},children:[e.jsx(m,{disabled:u||A,name:"cancel",title:"목록",onClick:()=>p("/user/user-list")}),e.jsx(m,{disabled:u||A,name:"edit",title:"수정",onClick:()=>{I((e=>({...e,edit:!0,msg:"수정한 정보로 저장 하시겠습니까?",openDialog:!0})))}}),e.jsx(m,{disabled:u||A,name:"delete",title:"삭제",onClick:()=>{I((e=>({...e,delete:!0,msg:"삭제하면 복구가 불가능합니다. 삭제 하시겠습니까?",openDialog:!0})))}})]})})]})}),T.openDialog&&e.jsx(d.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(P,{isOpen:T.openDialog,content:T.msg,onCancel:z,onConfirm:()=>{T.edit&&D.handleSubmit(),T.delete&&j({userId:null==r?void 0:r.userId},{onSuccess:({data:e})=>{C(`DELETE RESULT : ${null==e?void 0:e.data}`)}}),z()}})}),w&&e.jsx(d.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(O,{msg:w,autoHideDuration:3e3,callback:()=>p("/user/user-list")})})]})},V=()=>e.jsx(e.Fragment,{children:e.jsx(B,{})});export{V as UserEditPage,I as UserListPage,E as UserRegistPage};
