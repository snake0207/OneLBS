import{j as e,B as h,S,T as a,O as T,r as c}from"./index-Zwjsjf_e.js";import{b as y,c as _,d as m,e as l,M as k,a as B}from"./index-CIhg3QXE.js";import{C as I}from"./index-DDWb-XS6.js";import{d as L}from"./system-CTpelrAU.js";import{u as N}from"./formik.esm-DxgWIguA.js";import{S as R}from"./index-CkT4d0Nt.js";import{D as u}from"./index-BIFGUC3g.js";import{T as g}from"./index-D6lVn7oh.js";import"./index-DxA-rrMr.js";import"./index-DOeUa9Au.js";import"./TextField-C_ArUhJ2.js";import"./MenuItem-B4bxXtLY.js";import"./Close-DdxGh4K7.js";import"./FormControlLabel-BYqcm0yL.js";import"./InputAdornment-BudvL8JH.js";const f={searchBox:{display:"flex",justifyContent:"space-between",width:"100%",borderRadius:"8px",mb:"10px",p:"16px 20px",backgroundColor:"grey.search",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},tableBox:{width:"100%",th:{border:0,color:"text.darkgray",p:"3px 10px 3px 0","&:nth-of-type(even)":{pr:"20px"}},input:{height:"40px",pt:0,pb:0}},searchButton:{fontSize:15,fontWeight:400,width:"69px",height:"40px",minWidth:"auto",backgroundColor:"button.main",padding:"6px"},inputDash:{fontSize:15,display:"flex",alignItems:"center"},cellTitle:{width:"100px"},cellInput:{width:"300px"}};function P({onSearch:t}){const p=()=>[{key:0,value:0,label:"3개월 만료"},{key:1,value:1,label:"6개월 만료"}],r=N({initialValues:{start_date:"",end_date:"",start_time:"",end_time:"",procType:0},onSubmit:s=>{const n=`${s.start_date.split("-").join("")}${s.start_time}`,d=`${s.end_date.split("-").join("")}${s.end_time}`;t&&t({start_date:n,end_date:d,procType:s.procType})}});return e.jsx(h,{sx:f.searchBox,children:e.jsx(y,{sx:f.tableBox,children:e.jsxs(_,{children:[e.jsxs(m,{children:[e.jsx(l,{sx:{},colSpan:3,children:"조회기간"}),e.jsx(l,{sx:{},colSpan:3,children:"처리유형"})]}),e.jsxs(m,{children:[e.jsx(l,{sx:{width:"64%"},colSpan:3,children:e.jsxs(S,{direction:"row",spacing:.1,alignItems:"center",width:"100%",children:[e.jsx(u,{name:"start_date",formik:r}),e.jsx(g,{name:"start_time",formik:r}),e.jsx(a,{children:"~"}),e.jsx(u,{name:"end_date",formik:r}),e.jsx(g,{name:"end_time",formik:r})]})}),e.jsx(l,{sx:{width:"20%"},colSpan:2,children:e.jsx(R,{name:"procType",formik:r,items:p(),sx:{width:"100%",height:40,backgroundColor:"form.main",borderRadius:"4px"}})}),e.jsx(l,{align:"right",children:e.jsx(k,{name:"search",title:"검색",onClick:r.handleSubmit})})]})]})})})}const $=[{field:"id",headerName:"ID",flex:.5,renderCell:t=>e.jsx(a,{children:t.row.id})},{field:"procType",headerName:"처리유형",flex:1,renderCell:t=>e.jsx(a,{color:"primary",children:t.row.procType})},{field:"center",headerName:"센터",flex:1,renderCell:t=>e.jsx(a,{children:t.row.center})},{field:"start_date",headerName:"처리 시작일시",flex:1.2,renderCell:t=>e.jsx(a,{children:t.row.start_date})},{field:"end_date",headerName:"처리 종료일시",flex:1.2,renderCell:t=>e.jsx(a,{children:t.row.end_date})},{field:"procTime",headerName:"소요시간(분)",flex:1,align:"right",renderCell:t=>e.jsx(a,{children:t.row.procTime})},{field:"procCount",headerName:"처리 건수",flex:1,align:"right",renderCell:t=>e.jsx(a,{children:t.row.procCount})}],D=()=>{T();const[t,p]=c.useState(!0),[r,s]=c.useState({count:0,lists:[]}),[n,d]=c.useState({start_date:"",end_date:"",page:1,limit:50}),{data:x}=L(n,{enabled:!0}),j=o=>{s({count:0,lists:[]}),p(i=>!i),d({...n,...o,page:1})},b=({row:o})=>{},w=o=>{const i=parseInt("10"),C=(o+1)*i;o>0&&C>=r.lists.length&&d({...n,page:n.page+1})};return c.useEffect(()=>{if(x){const{count:o,lists:i}=x;s({count:o,lists:[...r.lists,...i]})}},[x,t]),console.log("fetchData : ",r),e.jsxs(h,{children:[e.jsx(B,{title:"위치정보 처리 조회"}),e.jsx(P,{onSearch:j}),r&&e.jsx(h,{sx:{width:"100%",borderRadius:"8px",p:"18px 20px",backgroundColor:"background.contents",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},children:e.jsx(I,{checkboxSelection:!1,rows:r==null?void 0:r.lists,rowCount:r==null?void 0:r.count,columns:$,sort:{field:"id",orderby:"desc"},onPageChange:w,onRowClick:b,pageInit:n.page===1})})]})},U=D;export{U as LocTransListPage};
