import{j as e,B as t,S as r,T as s,O as i,r as n}from"./index-DNBezHmp.js";import{b as o,c as a,d,e as l,M as x,a as p}from"./index-K9FZnq_n.js";import{C as c}from"./index-4-V6eLgu.js";import{d as m}from"./system-CIiezBfJ.js";import{u as h}from"./formik.esm-DhXVXXHr.js";import{S as j}from"./index-DgBZXdG5.js";import{D as u}from"./index-rEwVhy06.js";import{T as f}from"./index-BH5Sabbh.js";import"./index-BfV9KbSX.js";import"./index-Q7s2wh8K.js";import"./TextField-rg4txBXg.js";import"./MenuItem-DrfqH9qa.js";import"./Close-Didp81Oi.js";import"./FormControlLabel-DM4QGyIb.js";import"./InputAdornment-BGi_TbIT.js";const g={searchBox:{display:"flex",justifyContent:"space-between",width:"100%",borderRadius:"8px",mb:"10px",p:"16px 20px",backgroundColor:"grey.search",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},tableBox:{width:"100%",th:{border:0,color:"text.darkgray",p:"3px 10px 3px 0","&:nth-of-type(even)":{pr:"20px"}},input:{height:"40px",pt:0,pb:0}},searchButton:{fontSize:15,fontWeight:400,width:"69px",height:"40px",minWidth:"auto",backgroundColor:"button.main",padding:"6px"},inputDash:{fontSize:15,display:"flex",alignItems:"center"},cellTitle:{width:"100px"},cellInput:{width:"300px"}};function b({onSearch:i}){const n=h({initialValues:{start_date:"",end_date:"",start_time:"",end_time:"",procType:0},onSubmit:e=>{const t=`${e.start_date.split("-").join("")}${e.start_time}`,r=`${e.end_date.split("-").join("")}${e.end_time}`;i&&i({start_date:t,end_date:r,procType:e.procType})}});return e.jsx(t,{sx:g.searchBox,children:e.jsx(o,{sx:g.tableBox,children:e.jsxs(a,{children:[e.jsxs(d,{children:[e.jsx(l,{sx:{},colSpan:3,children:"조회기간"}),e.jsx(l,{sx:{},colSpan:3,children:"처리유형"})]}),e.jsxs(d,{children:[e.jsx(l,{sx:{width:"64%"},colSpan:3,children:e.jsxs(r,{direction:"row",spacing:.1,alignItems:"center",width:"100%",children:[e.jsx(u,{name:"start_date",formik:n}),e.jsx(f,{name:"start_time",formik:n}),e.jsx(s,{children:"~"}),e.jsx(u,{name:"end_date",formik:n}),e.jsx(f,{name:"end_time",formik:n})]})}),e.jsx(l,{sx:{width:"20%"},colSpan:2,children:e.jsx(j,{name:"procType",formik:n,items:[{key:0,value:0,label:"3개월 만료"},{key:1,value:1,label:"6개월 만료"}],sx:{width:"100%",height:40,backgroundColor:"form.main",borderRadius:"4px"}})}),e.jsx(l,{align:"right",children:e.jsx(x,{name:"search",title:"검색",onClick:n.handleSubmit})})]})]})})})}const w=[{field:"id",headerName:"ID",flex:.5,renderCell:t=>e.jsx(s,{children:t.row.id})},{field:"procType",headerName:"처리유형",flex:1,renderCell:t=>e.jsx(s,{color:"primary",children:t.row.procType})},{field:"center",headerName:"센터",flex:1,renderCell:t=>e.jsx(s,{children:t.row.center})},{field:"start_date",headerName:"처리 시작일시",flex:1.2,renderCell:t=>e.jsx(s,{children:t.row.start_date})},{field:"end_date",headerName:"처리 종료일시",flex:1.2,renderCell:t=>e.jsx(s,{children:t.row.end_date})},{field:"procTime",headerName:"소요시간(분)",flex:1,align:"right",renderCell:t=>e.jsx(s,{children:t.row.procTime})},{field:"procCount",headerName:"처리 건수",flex:1,align:"right",renderCell:t=>e.jsx(s,{children:t.row.procCount})}],C=()=>{i();const[r,s]=n.useState(!0),[o,a]=n.useState({count:0,lists:[]}),[d,l]=n.useState({start_date:"",end_date:"",page:1,limit:50}),{data:x}=m(d,{enabled:!0});return n.useEffect((()=>{if(x){const{count:e,lists:t}=x;a({count:e,lists:[...o.lists,...t]})}}),[x,r]),e.jsxs(t,{children:[e.jsx(p,{title:"위치정보 처리 조회"}),e.jsx(b,{onSearch:e=>{a({count:0,lists:[]}),s((e=>!e)),l({...d,...e,page:1})}}),o&&e.jsx(t,{sx:{width:"100%",borderRadius:"8px",p:"18px 20px",backgroundColor:"background.contents",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},children:e.jsx(c,{checkboxSelection:!1,rows:null==o?void 0:o.lists,rowCount:null==o?void 0:o.count,columns:w,sort:{field:"id",orderby:"desc"},onPageChange:e=>{const t=parseInt("10");e>0&&(e+1)*t>=o.lists.length&&l({...d,page:d.page+1})},onRowClick:({row:e})=>{},pageInit:1===d.page})})]})};export{C as LocTransListPage};
