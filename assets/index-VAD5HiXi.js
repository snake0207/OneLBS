function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-DanmpxUh.js","assets/index-CtGT7pB0.js","assets/cjs-CzLYHR4S.js","assets/index-C6TEBvmk.js","assets/index-mlOjgIiv.js","assets/index-DE0F4aPm.js","assets/useSlot-BcLOKpuP.js","assets/Close-CTx8nZBT.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as e,N as t,j as a,B as l,T as s,k as i}from"./index-CtGT7pB0.js";import{d as n}from"./SettingsSuggestOutlined-BV0MONSO.js";import{u as o}from"./formik.esm-DAidWDL1.js";import{a as r,b as d,c as u,d as c,e as x,f as p}from"./index-CkwR4aEQ.js";import{g as m}from"./service-Dw05zt6F.js";import{S as h}from"./index-BN4gr2T-.js";import{b as v,c as g}from"./system-BhhvE9sE.js";import{T as j}from"./TableBody-D_BRbEmt.js";import{T as y}from"./TextField-D-bOuL6E.js";import{F as f,C as b}from"./FormControlLabel-CIx-0vjk.js";import"./MenuItem-BYlXn1lz.js";const S={contentBox:{width:"100%",borderRadius:"8px",p:"18px 20px",backgroundColor:"background.contents",boxShadow:"0 3px 14px rgb(0 0 0 / 24%)"},table_base:{mb:3,th:{pt:1,pb:1,border:"1px solid",borderColor:"table.viewTopBorder"},td:{pt:.5,pb:.5,border:"1px solid",borderColor:"table.viewTopBorder"},"& tr:first-of-type":{"& th":{fontSize:"15px",color:"white",textAlign:"center"}}},center:{textAlign:"center"}},C=e.lazy((()=>t((()=>import("./index-DanmpxUh.js")),__vite__mapDeps([0,1,2,3])))),T=e.lazy((()=>t((()=>import("./index-mlOjgIiv.js")),__vite__mapDeps([4,1,5,6,7])))),k=0,A=1,D=2,I=3,w=()=>{const{mutate:t,isPending:w}=v(),[B,_]=e.useState(""),[z,E]=e.useState({count:0,lists:[]}),[L,F]=e.useState({query:!0,edit:!1,msg:"수정한 정보로 저장 하시겠습니까?",openDialog:!1}),{data:P,refetch:q}=g({},{enabled:L.query}),R=o({initialValues:{engineInfoList:[]},onSubmit:e=>{const a={engineInfoList:[...null==z?void 0:z.lists.map((e=>({name:e.name,dataType:e.dataType,value:e.value})))]};t({...a},{onSuccess:({data:e})=>{_(`UPDATE API RESULT : ${null==e?void 0:e.data}`),"0000"===(null==e?void 0:e.code)&&(E({count:0,lists:[]}),F((e=>({...e,query:!0,edit:!1,openDialog:!1}))),q({queryParams:{},queryKey:"refresh-engine"}))}})}}),U=()=>{F((e=>({...e,edit:!1,openDialog:!1})))};e.useEffect((()=>{var e;P&&"0000"===(null==P?void 0:P.code)&&(F((e=>({...e,query:!1}))),E({count:null==(e=null==P?void 0:P.data)?void 0:e.length,lists:[...null==P?void 0:P.data].sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))}))}),[P,q]);const O=e=>{const t=e.toUpperCase();return"S"===t||"I"===t||"D"===t?k:"B"===t?A:"AS"===t||"AI"===t||"AD"===t?D:I},W=({idx:t,item:s})=>{const[n,o]=e.useState({...s}),r=()=>{(e=>{const t=e.dataType.toUpperCase();"S"===t?String(e.value):"I"===t?parseInt(e.value):"D"===t?parseFloat(e.value):("B"===t||"AS"===t||"AI"===t||"AD"===t)&&e.value})(s);const e=z.lists.filter((e=>e.id!==s.id));E({count:z.count,lists:[...e,s]})};return a.jsxs(c,{children:[a.jsx(x,{style:{textAlign:"right"},children:s.id}),a.jsx(x,{children:"Y"!==s.newFlag?s.name:a.jsx(y,{id:`${s.id}`,variant:"outlined",type:"text",fullWidth:!0,size:"small",value:s.name,onChange:e=>{s.name=e.target.value,o((t=>({...t,name:e.target.value})))},onBlur:r})}),a.jsx(x,{children:a.jsx(h,{name:s.dataType,items:m(),value:s.dataType,onChange:e=>(e=>{const t=e.value.toUpperCase();"S"===t?s.value=String(s.value):"I"===t||"D"===t?s.value=1:"B"===t?s.value=!0:"AS"===t?s.value=s.value||"":"AI"===t?s.value=1:"AD"===t&&(s.value=.1),s.dataType=e.value,o((e=>({...e,dataType:s.dataType,value:s.value})))})(e),style:{height:"40px",width:"100%",fontSize:14,backgroundColor:"form.main",borderRadius:"4px"}})}),a.jsxs(x,{children:[O(s.dataType)===k&&a.jsx(y,{id:`${s.id}`,variant:"outlined",type:"text",fullWidth:!0,size:"small",value:s.value,onChange:e=>{s.value=e.target.value,o((t=>({...t,value:e.target.value})))},onBlur:r}),O(s.dataType)===A&&a.jsx(f,{control:a.jsx(b,{checked:s.value,onChange:e=>{s.value=e.target.checked,o((t=>({...t,value:e.target.checked})))}}),label:s.value?"적용":"미적용"}),O(s.dataType)===D&&a.jsx(l,{sx:{display:"flex",alignItems:"center"},children:a.jsx(y,{id:`${s.id}`,variant:"outlined",type:"text",fullWidth:!0,size:"small",value:s.value,onChange:e=>{s.value=e.target.value,o((t=>({...t,value:e.target.value})))},onBlur:r})})]}),a.jsx(x,{style:{textAlign:"center"},children:a.jsx(i,{variant:"text",sx:{color:"red"},onClick:()=>{return e=s.id,void E({count:z.count-1,lists:[...z.lists.filter((t=>t.id!=e))]});var e},children:"Delete"})})]})};return a.jsxs(l,{children:[a.jsx(r,{title:"엔진 설정 관리"}),a.jsx("form",{style:{width:"100%"},children:a.jsxs(l,{sx:S.contentBox,children:[a.jsxs(l,{display:"flex",alignItems:"center",mb:2,children:[a.jsx(n,{}),a.jsx(s,{sx:{ml:1,fontSize:"16px",fontWeight:500,color:"text.darkgray"},children:"엔진 환경 설정"})]}),a.jsxs(d,{size:"small",sx:S.table_base,children:[a.jsx(u,{children:a.jsxs(c,{sx:{backgroundColor:"#009ACC",position:"sticky",top:0},children:[a.jsx(x,{style:{width:"8%"},children:"번호"}),a.jsx(x,{style:{width:"40%"},children:"설정명"}),a.jsx(x,{style:{width:"15%"},children:"데이터 타입"}),a.jsx(x,{style:{width:"27%"},children:"값"}),a.jsx(x,{style:{width:"10%"},children:"삭제"})]})}),a.jsx(j,{children:(null==z?void 0:z.count)>0&&(null==z?void 0:z.lists.map(((e,t)=>a.jsx(W,{idx:t,item:e},e.id))))})]}),a.jsxs(l,{align:"right",display:"flex",justifyContent:"flex-end",alignItems:"center",children:[a.jsx(p,{disabled:w,name:"add",title:"설정 추가",onClick:()=>{const e=Math.max(...null==z?void 0:z.lists.map((e=>e.id)))+1,t={id:e,name:"",dataType:"S",value:"",newFlag:"Y"};E({count:e,lists:[...z.lists,t]})}}),a.jsx(p,{disabled:w,name:"create",title:"설정 저장",onClick:()=>{F((e=>({...e,edit:!0,openDialog:!0})))}})]})]})}),L.openDialog&&a.jsx(e.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(C,{isOpen:L.openDialog,content:L.msg,onCancel:U,onConfirm:()=>{L.edit&&R.handleSubmit(),U()}})}),B&&a.jsx(e.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(T,{msg:B,autoHideDuration:5e3,callback:()=>_(!1)})})]})},B=()=>a.jsx(a.Fragment,{children:a.jsx(w,{})});export{B as EngineEditPage};
